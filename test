const math = require('mathjs')

module.exports = num => {
    try {
        let numArray = num.split(' ')
        let sign = numArray[1]
        let newNum = 'test'
        
        if (sign == '+' || sign == '-') {
            console.log(numArray[0].split('/')[1])
            console.log(numArray[2].split('/')[1])

            if (numArray[0].split('/')[1] != numArray[2].split('/')[1]) {
                let fraction1 = parseInt(numArray[0].split('/')[1])
                let fraction2 = parseInt(numArray[2].split('/')[1])
                
                let nævner = () => {
                    for (let i = 1; fraction1 < fraction2; i++) {
                        let fraction = fraction1 * i
                        if (fraction == fraction2) {
                            return i
                        }
                        else if (fraction > fraction2) {
                            return false;
                        }
                                  
                    }
                }
            
                if (nævner()) {
                    firstMath = math.evaluate(`(${numArray[0].split('/')[0]} * ${nævner()})`)
                    secoundMath = math.evaluate(`(${numArray[0].split('/')[1]} * ${nævner()})`)
                    thirdMath = math.evaluate(`${firstMath} ${sign} ${numArray[2].split('/')[0]}`)

                    trin1 = `(${numArray[0].split('/')[0]} * ${nævner()})/(${numArray[0].split('/')[1]} * ${nævner()}) ${sign} ${numArray[2]}`
                    trin2 = `${firstMath}/${secoundMath} ${sign} ${numArray[2]}`

                    return newNum = `${num}\n${trin1}\n${trin2}\n${thirdMath}/${secoundMath}`
                }
                else {
                    return newNum = "Not"
                }
            }

            


            console.log('out of the first test')
        }
        return `${newNum}`
    } catch (error) {
        return "ERROR: " + error
    }
} 


